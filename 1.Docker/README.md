# داکرایز کنیم!

## داکر مقدماتی
این خیلی ویدیویی خوبی بود به نظرم و واسه شروع خیلی خوبه. اینکه چرا اصلا داکر می‌تونه به درد بخوره، چرا باید بریم سراغش، مفاهیمش چیا ان و چه نکاتی باید رعایت بشه و ازین حرفا ...
حتما ببینید!

[![آموزش داکر برای مقدماتی ها- موش همدانی!](https://img.youtube.com/vi/pTFZFxd4hOI/0.jpg)](https://www.youtube.com/watch?v=pTFZFxd4hOI)

## نصب داکر
پیشنهاد من برای نصب اینه که حتما از طریق راه آفلاین نصب کنید داکر رو. که اگر روزی گیر یه سیستم بدون اینترنت افتادید، بتونید خودتونو نجات بدید! 
این لینک می تونه کمکتون کنه در روند نصب:
[نصب داکر از طریق پکیج](https://docs.docker.com/engine/install/ubuntu/#install-from-a-package)
### نصب داکر کامپوز
داکر کامپوز ابزاریه که ما برای بالا اوردن چندین تا کانتینر با کانفیگ‌های مختلف به صورت همزمان استفاده می‌کنیم. یعنی یه فایل کانفیگ (معمولا به اسم docker-compose.yml) طراحی می‌کنیم و بعد این فایل رو به فایل بش docker-compose می‌شناسونیم تا کانتینر‌هایی که می‌خوایم رو برامون بالا بیاره.
نصبش ساده‌س. فقط باید یه فایلی رو دانلود کنید، تو پوشه bin بذاریدش و دسترسی اجرا شدن بهش بدین.
نحوه‌ی نصب اینجا توضیح داده شده :
[نصب داکر کامپوز](https://docs.docker.com/compose/install/#install-compose)


پیشنهاد اکید من استفاده از داکر کامپوزه واسه بالا اوردن کانتینر‌ها در **یک** پروژه. چرا که معمولا ما می‌خوایم کانتینر های مختلفی داشته باشیم و اگه از کامپوز استفاده نکنیم، مجبوریم دونه دونه کانتینر ها رو بالا بیاریمو حالا در نظر بگیرید که هر کانتینر کانفیگ‌های خودشو داره و ازین کثیف کاری‌ها. 
این لینک یه مثال ساده زده با داکر‌کامپوز:
[اولین مثال داکرکامپوز](https://docs.docker.com/compose/gettingstarted/)


*خلاصه بخوام بگم: داکر کامپوز مستند سامانه‌ای هست که شما بالا اوردید، چرا که تمامی اطلاعات کانتینر ها (پورت،آیپی، قسمتهایی از دیسک که بهش اختصاص دادید و...) داخلش هست.*

*نکته*: تو این راهنما از DockerFile استفاده کرده. توی فیلمی که لینکش در ابتدای این صفحه گذاشته شده مفهوم داکرفایل توضیح داده شده اما تو کیس‌هایی که ما استفاده می‌کنیم، خیلی کم پیش میاد که بریم سراغ داکرفایل. صرفا این نکته رو گفتم که میشه داکرفایل رو **فعلا** چشم‌پوشی کرد ازش، تا بعد، که بهش می‌رسیم :)


## چالشهایی که داکر برای من حل کرد
- یکی از استفاده‌هایی که داکر داره اینه که می‌شه باهاش اپلیکیشن‌هایی رو در یک سیستم ران کرد که Dependency‌ها مختلفی دارند. مثلا یه اپ شما نیاز به پایتون ورژن ۳.۱۰ داره  یکی دیگه نیاز داره به پایتون ۳.۹! خب شما برای حل این مشکل تو یه سیستم عادی باید خیلی تو سر و کله خودتون بزنید. اما با داکر خیلی راحت میشه!
- مورد بعدی که خیلی من دوسش دارم، محدود کردن ریسورس در هر کانتینتر هست. معمولا ابزار‌های بیگ‌دیتا ریسورس زیادی می‌خوان و این باعث می‌شه خیلی راحت نشه تست گرفتشون. مثلا فرض کنید شما می‌خواید همزان Nifi و Druid و Kafka‌رو با هم تست کنید! اگر نتونید درست ریسورس رو محدود کنید، با احتمال خیلی زیاد وقتی هر سه بالا بیان، سیستمتون کرش می‌کنه. ولی با داکر دیگه این غم رو ندارید :)

## نکاتی که به نظرم باید حتما یادمون باشه!
- بحث network! باید حواسمون باشه که کدوم کانتینتر ها نیاز دارن همدیگه رو ببینن. حتما [داکیومنت](https://docs.docker.com/network/) .بخش نتورک داکر رو بخونید
- بحث volume! در اکثر مواقع شما نمی‌خواید که اگر کانتینترتون از بین رفت ( کرش کرد،پوکید، سوخت، یا هر چیر دیگه‌ای) اطلاعاتی که رو اون کانتینر داشتید از بین بره! فرض کنید که کانتینتر شما حاوی دیتابیسه :) احتمالا دوست دارید که پس از مرگ کانتینرتون، حتما دیتاهایی که تو اون دیتابیس داشتید رو بشه احیا کرد.پس، [این](https://docs.docker.com/storage/volumes/) قسمت رو جدی بگیرید.
- با دستور docker update می‌تونید ریسورس‌هایی که به هر کانتینر اختصاص دادید رو تغییر بدید.
